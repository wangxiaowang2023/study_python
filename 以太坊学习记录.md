# 以太坊学习记录

### 1.1 入门

### 【重点】智能合约：

以太坊网络上运行程序就称之为只能合约，他和其他程序一样，也是代码和数据（状态）的集合

智能合约和人工智能没有关系；智能合约就是将法律条文写成可执行代码。让法律条文的执行中立化

这个理念和区块链上的程序可以不被篡改、不被干预（只要有人出发交易，它将自动执行）的概念不谋而合，因此区块链就有了这个概念

理论上来说，以太坊是具备‘‘图灵完备性的’，因此理论上可以让我们来编写可以做任何事情的程序，

应用场景：智能合约非常适合对信任、安全和持久性要求较高的应用场景，比如说：数字货币、数字资产、投票、保险、金融应用、预测市场、产权所有管理、物联网、点对点交易等等

### 【拓展】：图灵完备：

图灵机：时一种抽象的计算模型，是理论上的一个设备，有读写头和无限长的纸带，可以在这条纸带上读写和执行一系列的操作，图灵机被认为是通用的计算机模型，可以模拟其他计算机以及执行各种计算任务

具体图灵完备，就是理论上它能够执行任何可计算的任务，报考复杂的数学运输、逻辑判断、循环、条件语句等等，可以实现各种复杂的智能合约逻辑

### 【重点】：EVM 以太坊虚拟机

以太坊虚拟机是一个隔离的环境，外部无法接触到在EVM内部运行的代码

EVM运行在以太坊节点上，当我们把合约部署到以太坊网络上之后，合约就可以在以太坊网络中运行了。

- 合约编译，字节码的形式，
- 合约部署：在以太坊开发应用时，常常要使用到以太坊客户端（钱包），
- 钱包是一个开发者工具，提供账户管理、挖矿、转账、智能合约的部署和执行等功能

- 只能合约的部署是指把合约字节码发布到区块链上，并使用一个特定的地址来标示这个合约，这个地址成为合约账户
- 合约账户与外部账户
- **合约账户：**该类账户被他们的合约代码控制且有代码与之关联。合约账户没有关联私钥，不能独立的对账户进行前面，合约的操作是由发送交易的外部账户触发的。交易中包含了对合约的调用和参数。
  - 要求：必须由外部账户发送一笔交易，交易中包含合约地址和相关的调用数据。以太坊网络会执行对应的合约代码。并根据交易的调用指令和参数来更新合约状态，同时，使用这个合约为依据的人就可以根据这个状态去完成其他的事情
  - 当然，合约的执行也是需要消耗Gas的,这个是为了防止恶意的合约占用过多的网络资源
- **外部账户：**该类账户被私钥控制。没有关联任何代码
- **关系：**一个外部账户可以通过创建和使用自己的私钥来对交易进行前面，来发送消息给另一个外部账户或者合约账户。在两个外部账户之间传送消息是价值转移的过程。但从外部账户到合约账户的消息会激活合约账户的代码。允许它执行各种动作（比如转移代币，写入内部存储，挖出一个新代币，执行一些运输，创建一个新的合约等等），只有当外部账户发出指令的时候，合约账户才会执行相应的操作。

### 【重点】Gas

gas是什么？ 首先他是一种计量单位，用于衡量和支付执行智能合约和交易所需要的计算资源和网络资源。以太坊中的每一个操作和计算，都会消耗一定数量的gas 而执行交易或者智能合约操作时，发送方需要支付相应数量的以太币（Ether）作为Gas费用。如果不做这个限制。就会有人写出无法停止（死循环）的合约来阻塞整个网络。

- **计算成本：**防止死循环滥用网络和制造阻塞
- **Gas价格：** gas价格是以太币的数量，用于衡量一个单位gas的价值，它通常以Gwei为单位，1Gwei等于10^-9 以太币
- Gas上限：每个交易或者合约执行都有一个Gas 上限，表示的是允许消耗的最大Gas数量。如果执行操作消耗的Gas超过了上限，操作就会被终止并且退款。单已经消耗了的Gas费用将不会退还。是运行消耗的最大Gas数量。
- Gas 费用：发送交易或者执行智能合约操作需要支付的**Gas费用等于Gas价格乘以所消耗的Gas数量。** 这些费用由发送方支付，用户激励旷工执行交易和合约，同事确保网络的可靠性和稳定性。这就是我们的链上的节点对应的手续费计算来源，--fees= gas praice0.0005 x gas-to-suggest 200000gas=100umec
- gas限制：gas限制是一个交易或者合约操作中允许的最大gas量，gas-limit 限制确保他们的交易不会无限制的执行下去。

### 【重点】DApp

DApp 是分布式应用程序（Decentralized Application）的缩写

建立在区块链技术上的应用程序，与传统的中心化引用程序不同，DApp通过区块链的去中心化的特性，实现了更高的透明度、安全性和开放性。DApp的设计和功能可以和传统应用程序相似，但他们使用区块链技术来提供更多的优势，。

如果我们把区块链理解为一个不可篡改的数据库，只能合约理解为和数据库打交道的程序，那DApp就很好理解了，一个不单单有智能

